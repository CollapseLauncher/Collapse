<Window
    x:Class="CollapseLauncher.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:CollapseLauncher"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:customcontrol="using:CollapseLauncher.CustomControls"
    mc:Ignorable="d">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="48"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Frame x:Name="rootFrame" Grid.Row="0" Grid.RowSpan="2" Opacity="1" x:FieldModifier="public">
            <Frame.ContentTransitions>
                <TransitionCollection>
                    <NavigationThemeTransition/>
                </TransitionCollection>
            </Frame.ContentTransitions>
        </Frame>
        <Frame x:Name="overlayFrame" Grid.Row="0" Grid.RowSpan="2" Opacity="1" x:FieldModifier="public">
            <Frame.ContentTransitions>
                <TransitionCollection>
                    <NavigationThemeTransition/>
                </TransitionCollection>
            </Frame.ContentTransitions>
        </Frame>
        <customcontrol:ContentDialogCollapse x:Name="ContentDialog" x:FieldModifier="internal"/>
        <Grid x:Name="AppTitleBar">
            <Button x:Name="MinimizeButton" Width="48" Height="48"
                    Margin="0,0,48,0" HorizontalAlignment="Right"
                    Style="{StaticResource WindowCaptionButton}"
                    Click="MinimizeButton_Click"
                    Content="M 0 0 H 10"/>
            <Button x:Name="CloseButton" Width="48" Height="48"
                Margin="0,0,0,0" HorizontalAlignment="Right"
                Style="{StaticResource WindowCaptionButton}"
                Click="CloseButton_Click"
                Content="M 0 0 L 10 10 M 10 0 L 0 10">
                <Button.Resources>
                    <ResourceDictionary>
                        <ResourceDictionary.ThemeDictionaries>
                            <ResourceDictionary x:Key="Light">
                                <StaticResource x:Key="WindowCaptionButtonBackgroundPointerOver" ResourceKey="CloseButtonBackgroundPointerOver" />
                                <StaticResource x:Key="WindowCaptionButtonBackgroundPressed" ResourceKey="CloseButtonBackgroundPressed" />
                                <StaticResource x:Key="WindowCaptionButtonStrokePointerOver" ResourceKey="CloseButtonStrokePointerOver" />
                                <StaticResource x:Key="WindowCaptionButtonStrokePressed" ResourceKey="CloseButtonStrokePressed" />
                            </ResourceDictionary>
                            <ResourceDictionary x:Key="Default">
                                <StaticResource x:Key="WindowCaptionButtonBackgroundPointerOver" ResourceKey="CloseButtonBackgroundPointerOver" />
                                <StaticResource x:Key="WindowCaptionButtonBackgroundPressed" ResourceKey="CloseButtonBackgroundPressed" />
                                <StaticResource x:Key="WindowCaptionButtonStrokePointerOver" ResourceKey="CloseButtonStrokePointerOver" />
                                <StaticResource x:Key="WindowCaptionButtonStrokePressed" ResourceKey="CloseButtonStrokePressed" />
                            </ResourceDictionary>
                        </ResourceDictionary.ThemeDictionaries>
                    </ResourceDictionary>
                </Button.Resources>
            </Button>
        </Grid>
        <local:TrayIcon x:Name="TrayIcon"/>
    </Grid>
</Window>
