<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:animations="using:CommunityToolkit.WinUI.Animations"
                    xmlns:behaviors="using:CommunityToolkit.WinUI.Behaviors"
                    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
                    xmlns:imageex="using:ImageEx"
                    xmlns:interactivity="using:Microsoft.Xaml.Interactivity"
                    xmlns:pages="using:CollapseLauncher.Pages"
                    xmlns:s="using:CommunityToolkit.WinUI">
    <ResourceDictionary.ThemeDictionaries>
        <ResourceDictionary x:Key="Default">
            <SolidColorBrush x:Key="SolidColorBrushForegroundTransparent"
                             Color="#00FFFFFF" />
            <SolidColorBrush x:Key="SolidColorBrushBackgroundTransparent"
                             Color="#00000000" />
            <SolidColorBrush x:Key="SolidColorBrushBackgroundHover"
                             Color="#55000000" />
            <SolidColorBrush x:Key="SolidColorBrushBackgroundPressed"
                             Color="#77000000" />
            <SolidColorBrush x:Key="SolidColorBrushBackgroundDisabled"
                             Color="#11000000" />
        </ResourceDictionary>
        <ResourceDictionary x:Key="Light">
            <SolidColorBrush x:Key="SolidColorBrushForegroundTransparent"
                             Color="#00000000" />
            <SolidColorBrush x:Key="SolidColorBrushBackgroundTransparent"
                             Color="#00FFFFFF" />
            <SolidColorBrush x:Key="SolidColorBrushBackgroundHover"
                             Color="#55FFFFFF" />
            <SolidColorBrush x:Key="SolidColorBrushBackgroundPressed"
                             Color="#77FFFFFF" />
            <SolidColorBrush x:Key="SolidColorBrushBackgroundDisabled"
                             Color="#11FFFFFF" />
        </ResourceDictionary>
    </ResourceDictionary.ThemeDictionaries>

    <pages:UrlToCachedImageSourceConverter x:Key="UrlToCachedImageSourceConverter" />

    <Style x:Key="SocialMediaButtonStyle"
           TargetType="Button">
        <Setter Property="Background" Value="{ThemeResource ButtonBackground}" />
        <Setter Property="BackgroundSizing" Value="InnerBorderEdge" />
        <Setter Property="Foreground" Value="{ThemeResource ButtonForeground}" />
        <Setter Property="BorderBrush" Value="{ThemeResource ButtonBorderBrush}" />
        <Setter Property="BorderThickness" Value="{ThemeResource ButtonBorderThemeThickness}" />
        <Setter Property="Padding" Value="{ThemeResource ButtonPadding}" />
        <Setter Property="HorizontalAlignment" Value="Left" />
        <Setter Property="VerticalAlignment" Value="Center" />
        <Setter Property="FontFamily" Value="{ThemeResource ContentControlThemeFontFamily}" />
        <Setter Property="FontWeight" Value="Normal" />
        <Setter Property="FontSize" Value="{ThemeResource ControlContentThemeFontSize}" />
        <Setter Property="UseSystemFocusVisuals" Value="{ThemeResource UseSystemFocusVisuals}" />
        <Setter Property="FocusVisualMargin" Value="-3" />
        <Setter Property="CornerRadius" Value="{ThemeResource ControlCornerRadius}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <ContentPresenter x:Name="ContentPresenter"
                                      Padding="{TemplateBinding Padding}"
                                      HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                      VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                      controls:AnimatedIcon.State="Normal"
                                      AutomationProperties.AccessibilityView="Raw"
                                      BackgroundSizing="{TemplateBinding BackgroundSizing}"
                                      BorderThickness="{TemplateBinding BorderThickness}"
                                      ContentTemplate="{TemplateBinding ContentTemplate}"
                                      ContentTransitions="{TemplateBinding ContentTransitions}"
                                      CornerRadius="{TemplateBinding CornerRadius}">
                        <ContentPresenter.BackgroundTransition>
                            <BrushTransition Duration="0:0:0.083" />
                        </ContentPresenter.BackgroundTransition>

                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                       Storyboard.TargetProperty="Background">
                                            <DiscreteObjectKeyFrame KeyTime="0"
                                                                    Value="{ThemeResource SolidColorBrushBackgroundTransparent}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Icon"
                                                                       Storyboard.TargetProperty="Opacity">
                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                    Value="0" />
                                            <SplineDoubleKeyFrame KeySpline="{ThemeResource ControlFastOutSlowInKeySpline}"
                                                                  KeyTime="0:0:.3"
                                                                  Value="1" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="IconHover"
                                                                       Storyboard.TargetProperty="Opacity">
                                            <DiscreteDoubleKeyFrame KeyTime="0:0:.2"
                                                                    Value="1" />
                                            <SplineDoubleKeyFrame KeySpline="{ThemeResource ControlFastOutSlowInKeySpline}"
                                                                  KeyTime="0:0:.5"
                                                                  Value="0" />
                                        </DoubleAnimationUsingKeyFrames>

                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="SocMedIconTranslate"
                                                                       Storyboard.TargetProperty="Y">
                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                    Value="-2" />
                                            <SplineDoubleKeyFrame KeySpline="{ThemeResource ControlFastOutSlowInKeySpline}"
                                                                  KeyTime="{ThemeResource ControlNormalAnimationDuration}"
                                                                  Value="0" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="SocMedIconScale"
                                                                       Storyboard.TargetProperty="ScaleX">
                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                    Value="1.15" />
                                            <SplineDoubleKeyFrame KeySpline="{ThemeResource ControlFastOutSlowInKeySpline}"
                                                                  KeyTime="{ThemeResource ControlNormalAnimationDuration}"
                                                                  Value="1" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="SocMedIconScale"
                                                                       Storyboard.TargetProperty="ScaleY">
                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                    Value="1.15" />
                                            <SplineDoubleKeyFrame KeySpline="{ThemeResource ControlFastOutSlowInKeySpline}"
                                                                  KeyTime="{ThemeResource ControlNormalAnimationDuration}"
                                                                  Value="1" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="PointerOver">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                       Storyboard.TargetProperty="Background">
                                            <DiscreteObjectKeyFrame KeyTime="0"
                                                                    Value="{ThemeResource SolidColorBrushBackgroundHover}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                       Storyboard.TargetProperty="BorderBrush">
                                            <DiscreteObjectKeyFrame KeyTime="0"
                                                                    Value="{ThemeResource ButtonBorderBrushPointerOver}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                       Storyboard.TargetProperty="Foreground">
                                            <DiscreteObjectKeyFrame KeyTime="0"
                                                                    Value="{ThemeResource ButtonForegroundPointerOver}" />
                                        </ObjectAnimationUsingKeyFrames>

                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="IconHover"
                                                                       Storyboard.TargetProperty="Opacity">
                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                    Value="0" />
                                            <SplineDoubleKeyFrame KeySpline="{ThemeResource ControlFastOutSlowInKeySpline}"
                                                                  KeyTime="0:0:.3"
                                                                  Value="1" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Icon"
                                                                       Storyboard.TargetProperty="Opacity">
                                            <DiscreteDoubleKeyFrame KeyTime="0:0:.2"
                                                                    Value="1" />
                                            <SplineDoubleKeyFrame KeySpline="{ThemeResource ControlFastOutSlowInKeySpline}"
                                                                  KeyTime="0:0:.5"
                                                                  Value="0" />
                                        </DoubleAnimationUsingKeyFrames>

                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="SocMedIconTranslate"
                                                                       Storyboard.TargetProperty="Y">
                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                    Value="0" />
                                            <SplineDoubleKeyFrame KeySpline="{ThemeResource ControlFastOutSlowInKeySpline}"
                                                                  KeyTime="{ThemeResource ControlNormalAnimationDuration}"
                                                                  Value="-2" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="SocMedIconScale"
                                                                       Storyboard.TargetProperty="ScaleX">
                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                    Value="1" />
                                            <SplineDoubleKeyFrame KeySpline="{ThemeResource ControlFastOutSlowInKeySpline}"
                                                                  KeyTime="{ThemeResource ControlNormalAnimationDuration}"
                                                                  Value="1.15" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="SocMedIconScale"
                                                                       Storyboard.TargetProperty="ScaleY">
                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                    Value="1" />
                                            <SplineDoubleKeyFrame KeySpline="{ThemeResource ControlFastOutSlowInKeySpline}"
                                                                  KeyTime="{ThemeResource ControlNormalAnimationDuration}"
                                                                  Value="1.15" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                    <VisualState.Setters>
                                        <Setter Target="ContentPresenter.(controls:AnimatedIcon.State)" Value="PointerOver" />
                                    </VisualState.Setters>
                                </VisualState>
                                <VisualState x:Name="Pressed">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                       Storyboard.TargetProperty="Background">
                                            <DiscreteObjectKeyFrame KeyTime="0"
                                                                    Value="{ThemeResource SolidColorBrushBackgroundPressed}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                       Storyboard.TargetProperty="BorderBrush">
                                            <DiscreteObjectKeyFrame KeyTime="0"
                                                                    Value="{ThemeResource ButtonBorderBrushPressed}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                       Storyboard.TargetProperty="Foreground">
                                            <DiscreteObjectKeyFrame KeyTime="0"
                                                                    Value="{ThemeResource ButtonForegroundPressed}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                    <VisualState.Setters>
                                        <Setter Target="ContentPresenter.(controls:AnimatedIcon.State)" Value="Pressed" />
                                    </VisualState.Setters>
                                </VisualState>
                                <VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                       Storyboard.TargetProperty="Background">
                                            <DiscreteObjectKeyFrame KeyTime="0"
                                                                    Value="{ThemeResource SolidColorBrushBackgroundDisabled}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                       Storyboard.TargetProperty="BorderBrush">
                                            <DiscreteObjectKeyFrame KeyTime="0"
                                                                    Value="{ThemeResource ButtonBorderBrushDisabled}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                       Storyboard.TargetProperty="Foreground">
                                            <DiscreteObjectKeyFrame KeyTime="0"
                                                                    Value="{ThemeResource ButtonForegroundDisabled}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                    <VisualState.Setters>
                                        <!--  DisabledVisual Should be handled by the control, not the animated icon.  -->
                                        <Setter Target="ContentPresenter.(controls:AnimatedIcon.State)" Value="Normal" />
                                    </VisualState.Setters>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>

                        <animations:Explicit.Animations>
                            <animations:AnimationSet x:Name="SocMedIconPointerEntered">
                                <animations:OffsetDropShadowAnimation Target="{Binding ElementName=IconShadow}"
                                                                      To="0, 5, 0"
                                                                      Duration="0:0:.25" />
                                <animations:OpacityDropShadowAnimation Target="{Binding ElementName=IconShadow}"
                                                                       To="0"
                                                                       Duration="0:0:.25" />
                                <animations:BlurRadiusDropShadowAnimation Target="{Binding ElementName=IconShadow}"
                                                                          To="10"
                                                                          Duration="0:0:.25" />

                                <animations:OffsetDropShadowAnimation Target="{Binding ElementName=IconHoverShadow}"
                                                                      To="0, 5, 0"
                                                                      Duration="0:0:.25" />
                                <animations:OpacityDropShadowAnimation Target="{Binding ElementName=IconHoverShadow}"
                                                                       To=".5"
                                                                       Duration="0:0:.25" />
                                <animations:BlurRadiusDropShadowAnimation Target="{Binding ElementName=IconHoverShadow}"
                                                                          To="10"
                                                                          Duration="0:0:.25" />
                            </animations:AnimationSet>
                            <animations:AnimationSet x:Name="SocMedIconPointerExited">
                                <animations:OffsetDropShadowAnimation Target="{Binding ElementName=IconShadow}"
                                                                      To="0, 2, 0"
                                                                      Duration="0:0:.25" />
                                <animations:OpacityDropShadowAnimation Target="{Binding ElementName=IconShadow}"
                                                                       To=".25"
                                                                       Duration="0:0:.25" />
                                <animations:BlurRadiusDropShadowAnimation Target="{Binding ElementName=IconShadow}"
                                                                          To="4"
                                                                          Duration="0:0:.25" />

                                <animations:OffsetDropShadowAnimation Target="{Binding ElementName=IconHoverShadow}"
                                                                      To="0, 2, 0"
                                                                      Duration="0:0:.25" />
                                <animations:OpacityDropShadowAnimation Target="{Binding ElementName=IconHoverShadow}"
                                                                       To="0"
                                                                       Duration="0:0:.25" />
                                <animations:BlurRadiusDropShadowAnimation Target="{Binding ElementName=IconHoverShadow}"
                                                                          To="4"
                                                                          Duration="0:0:.25" />
                            </animations:AnimationSet>
                        </animations:Explicit.Animations>

                        <interactivity:Interaction.Behaviors>
                            <interactivity:EventTriggerBehavior EventName="PointerExited">
                                <behaviors:StartAnimationAction Animation="{Binding ElementName=SocMedIconPointerExited}" />
                            </interactivity:EventTriggerBehavior>
                            <interactivity:EventTriggerBehavior EventName="PointerEntered">
                                <behaviors:StartAnimationAction Animation="{Binding ElementName=SocMedIconPointerEntered}" />
                            </interactivity:EventTriggerBehavior>
                        </interactivity:Interaction.Behaviors>

                        <Grid x:Name="RootGrid"
                              RenderTransformOrigin="0.5,0.5">
                            <Grid.RenderTransform>
                                <TransformGroup>
                                    <TranslateTransform x:Name="SocMedIconTranslate" />
                                    <ScaleTransform x:Name="SocMedIconScale" />
                                </TransformGroup>
                            </Grid.RenderTransform>

                            <Grid x:Name="SocMedPanelShadowCaster" />
                            <Grid x:Name="SocMedIconsGrid">
                                <imageex:ImageEx x:Name="Icon"
                                                 EnableLazyLoading="True"
                                                 IsCacheEnabled="True"
                                                 Source="{Binding Icon.ImageUrl, FallbackValue={x:Null}, Converter={StaticResource UrlToCachedImageSourceConverter}}">
                                    <s:Effects.Shadow>
                                        <s:AttachedDropShadow x:Name="IconShadow"
                                                              BlurRadius="4"
                                                              CastTo="{Binding ElementName=SocMedPanelShadowCaster}"
                                                              Opacity=".25"
                                                              Offset="0, 2, 0" />
                                    </s:Effects.Shadow>
                                </imageex:ImageEx>
                                <imageex:ImageEx x:Name="IconHover"
                                                 EnableLazyLoading="True"
                                                 IsCacheEnabled="True"
                                                 Opacity="0"
                                                 Source="{Binding Icon.ImageHoverUrl, FallbackValue={x:Null}, Converter={StaticResource UrlToCachedImageSourceConverter}}">
                                    <s:Effects.Shadow>
                                        <s:AttachedDropShadow x:Name="IconHoverShadow"
                                                              BlurRadius="4"
                                                              CastTo="{Binding ElementName=SocMedPanelShadowCaster}"
                                                              Opacity=".0"
                                                              Offset="0, 2, 0" />
                                    </s:Effects.Shadow>
                                </imageex:ImageEx>
                            </Grid>
                        </Grid>
                    </ContentPresenter>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>