<!--  ReSharper disable UnusedMember.Local  -->
<!--  ReSharper disable Xaml.StaticResourceNotResolved  -->
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:customControls="using:BackgroundTest.CustomControl"
                    xmlns:controls="using:BackgroundTest.CustomControl.PanelSlideshow"
                    xmlns:animations="using:CommunityToolkit.WinUI.Animations"
                    xmlns:behaviors="using:CommunityToolkit.WinUI.Behaviors"
                    xmlns:interactivity="using:Microsoft.Xaml.Interactivity"
                    xmlns:s="using:CommunityToolkit.WinUI">

    <x:Double x:Key="SlideshowButtonOpacity">0</x:Double>
    <x:Double x:Key="SlideshowButtonOpacityPointerOver">1</x:Double>
    <x:Double x:Key="SlideshowButtonScale">.8</x:Double>
    <x:Double x:Key="SlideshowButtonScalePointerOver">1</x:Double>
    <x:Double x:Key="SlideshowCountdownBarOpacity">.25</x:Double>
    <x:Double x:Key="SlideshowCountdownBarOpacityPointerOver">1</x:Double>
    <x:Double x:Key="SlideshowCountdownBarSmokeOpacity">.5</x:Double>
    <x:Double x:Key="SlideshowCountdownBarSmokeOpacityPointerOver">1</x:Double>

    <controls:MoreThanZeroToVisibilityConverter x:Key="MoreThanZeroToVisibilityConverter"/>

    <Style TargetType="controls:PanelSlideshow">
        <Setter Property="PreviousButtonCornerRadius" Value="16"/>
        <Setter Property="PreviousButtonHeight" Value="48"/>
        <Setter Property="PreviousButtonWidth" Value="32"/>
        <Setter Property="PreviousButtonOpacity" Value="1"/>
        <Setter Property="PreviousButtonMargin" Value="0"/>
        <Setter Property="PreviousButtonHorizontalAlignment" Value="Left"/>
        <Setter Property="PreviousButtonVerticalAlignment" Value="Bottom"/>
        <Setter Property="PreviousButtonBackgroundBrush" Value="{ThemeResource SlideshowButtonBackground}"/>
        <Setter Property="PreviousButtonForegroundBrush" Value="{ThemeResource ButtonForegroundThemeBrush}"/>
        <Setter Property="PreviousButtonStyle" Value="{ThemeResource SlideshowPreviousButtonStyle}"/>

        <Setter Property="NextButtonCornerRadius" Value="16"/>
        <Setter Property="NextButtonHeight" Value="48"/>
        <Setter Property="NextButtonWidth" Value="32"/>
        <Setter Property="NextButtonOpacity" Value="1"/>
        <Setter Property="NextButtonMargin" Value="0"/>
        <Setter Property="NextButtonHorizontalAlignment" Value="Right"/>
        <Setter Property="NextButtonVerticalAlignment" Value="Bottom"/>
        <Setter Property="NextButtonBackgroundBrush" Value="{ThemeResource SlideshowButtonBackground}"/>
        <Setter Property="NextButtonForegroundBrush" Value="{ThemeResource ButtonForegroundThemeBrush}"/>
        <Setter Property="NextButtonStyle" Value="{ThemeResource SlideshowNextButtonStyle}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="controls:PanelSlideshow">
                    <Grid x:Name="RootGrid" CornerRadius="{TemplateBinding CornerRadius}">
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PreviousButton" Storyboard.TargetProperty="Opacity">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowButtonOpacity}" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="NextButton" Storyboard.TargetProperty="Opacity">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowButtonOpacity}" />
                                        </DoubleAnimationUsingKeyFrames>
                                        
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="CountdownProgressBar" Storyboard.TargetProperty="Opacity">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowCountdownBarOpacity}" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="CountdownProgressBarSmoke" Storyboard.TargetProperty="Opacity">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowCountdownBarSmokeOpacity}" />
                                        </DoubleAnimationUsingKeyFrames>

                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PreviousButtonScaleTransform" Storyboard.TargetProperty="ScaleX">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowButtonScale}" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PreviousButtonScaleTransform" Storyboard.TargetProperty="ScaleY">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowButtonScale}" />
                                        </DoubleAnimationUsingKeyFrames>

                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="NextButtonScaleTransform" Storyboard.TargetProperty="ScaleX">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowButtonScale}" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="NextButtonScaleTransform" Storyboard.TargetProperty="ScaleY">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowButtonScale}" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="PointerOver">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PreviousButton" Storyboard.TargetProperty="Opacity">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowButtonOpacityPointerOver}" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="NextButton" Storyboard.TargetProperty="Opacity">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowButtonOpacityPointerOver}" />
                                        </DoubleAnimationUsingKeyFrames>

                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="CountdownProgressBar" Storyboard.TargetProperty="Opacity">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowCountdownBarOpacityPointerOver}" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="CountdownProgressBarSmoke" Storyboard.TargetProperty="Opacity">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowCountdownBarSmokeOpacityPointerOver}" />
                                        </DoubleAnimationUsingKeyFrames>

                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PreviousButtonScaleTransform" Storyboard.TargetProperty="ScaleX">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowButtonScalePointerOver}" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PreviousButtonScaleTransform" Storyboard.TargetProperty="ScaleY">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowButtonScalePointerOver}" />
                                        </DoubleAnimationUsingKeyFrames>

                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="NextButtonScaleTransform" Storyboard.TargetProperty="ScaleX">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowButtonScalePointerOver}" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="NextButtonScaleTransform" Storyboard.TargetProperty="ScaleY">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowButtonScalePointerOver}" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PreviousButton" Storyboard.TargetProperty="IsEnabled">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="False" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NextButton" Storyboard.TargetProperty="IsEnabled">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="False" />
                                        </ObjectAnimationUsingKeyFrames>

                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="CountdownProgressBar" Storyboard.TargetProperty="Opacity">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowCountdownBarOpacity}" />
                                        </DoubleAnimationUsingKeyFrames>

                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid" Storyboard.TargetProperty="Opacity">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value=".25" />
                                        </ObjectAnimationUsingKeyFrames>

                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PreviousButton" Storyboard.TargetProperty="Opacity">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowButtonOpacity}" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="NextButton" Storyboard.TargetProperty="Opacity">
                                            <SplineDoubleKeyFrame KeyTime="{StaticResource ControlFastAnimationDuration}" KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" Value="{StaticResource SlideshowButtonOpacity}" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        
                        <animations:Explicit.Animations>
                            <animations:AnimationSet x:Name="NavigationButtonPointerEntered">
                                <animations:OffsetDropShadowAnimation Target="{Binding ElementName=PreviousButtonShadow}"
                                                                      To="0, 5, 0"
                                                                      Duration="0:0:.25" />
                                <animations:OpacityDropShadowAnimation Target="{Binding ElementName=PreviousButtonShadow}"
                                                                       To=".15"
                                                                       Duration="0:0:.25" />
                                <animations:BlurRadiusDropShadowAnimation Target="{Binding ElementName=PreviousButtonShadow}"
                                                                          To="24"
                                                                          Duration="0:0:.25" />

                                <animations:OffsetDropShadowAnimation Target="{Binding ElementName=NextButtonShadow}"
                                                                      To="0, 5, 0"
                                                                      Duration="0:0:.25" />
                                <animations:OpacityDropShadowAnimation Target="{Binding ElementName=NextButtonShadow}"
                                                                       To=".15"
                                                                       Duration="0:0:.25" />
                                <animations:BlurRadiusDropShadowAnimation Target="{Binding ElementName=NextButtonShadow}"
                                                                          To="24"
                                                                          Duration="0:0:.25" />
                            </animations:AnimationSet>
                            <animations:AnimationSet x:Name="NavigationButtonPointerExited">
                                <animations:OffsetDropShadowAnimation Target="{Binding ElementName=PreviousButtonShadow}"
                                                                      To="0, 0, 0"
                                                                      Duration="0:0:.25" />
                                <animations:OpacityDropShadowAnimation Target="{Binding ElementName=PreviousButtonShadow}"
                                                                       To="0"
                                                                       Duration="0:0:.25" />
                                <animations:BlurRadiusDropShadowAnimation Target="{Binding ElementName=PreviousButtonShadow}"
                                                                          To="8"
                                                                          Duration="0:0:.25" />

                                <animations:OffsetDropShadowAnimation Target="{Binding ElementName=NextButtonShadow}"
                                                                      To="0, 0, 0"
                                                                      Duration="0:0:.25" />
                                <animations:OpacityDropShadowAnimation Target="{Binding ElementName=NextButtonShadow}"
                                                                       To="0"
                                                                       Duration="0:0:.25" />
                                <animations:BlurRadiusDropShadowAnimation Target="{Binding ElementName=NextButtonShadow}"
                                                                          To="8"
                                                                          Duration="0:0:.25" />
                            </animations:AnimationSet>
                        </animations:Explicit.Animations>

                        <interactivity:Interaction.Behaviors>
                            <interactivity:EventTriggerBehavior EventName="PointerExited">
                                <behaviors:StartAnimationAction Animation="{Binding ElementName=NavigationButtonPointerExited}" />
                            </interactivity:EventTriggerBehavior>
                            <interactivity:EventTriggerBehavior EventName="PointerEntered">
                                <behaviors:StartAnimationAction Animation="{Binding ElementName=NavigationButtonPointerEntered}" />
                            </interactivity:EventTriggerBehavior>
                        </interactivity:Interaction.Behaviors>

                        <Grid x:Name="PreloadGrid" Opacity="0"/>
                        <ScrollContentPresenter x:Name="Presenter" CornerRadius="{TemplateBinding CornerRadius}"/>
                        <Grid HorizontalAlignment="Stretch"
                              VerticalAlignment="Bottom"
                              Visibility="{TemplateBinding ProgressBarVisibility}">
                            <Grid x:Name="CountdownProgressBarSmoke"
                                  Background="{ThemeResource SlideshowProgressBarSmokeBackground}"
                                  MaxHeight="256"
                                  MinHeight="78"
                                  Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=SlideshowDuration, Converter={StaticResource MoreThanZeroToVisibilityConverter}, Mode=OneWay}"
                                  Opacity="{StaticResource SlideshowCountdownBarSmokeOpacity}"/>
                            <ProgressBar x:Name="CountdownProgressBar"
                                         Value="0"
                                         VerticalAlignment="Bottom"
                                         Opacity="{StaticResource SlideshowCountdownBarOpacity}"
                                         Maximum="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=SlideshowDuration, Mode=OneWay}"
                                         Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=SlideshowDuration, Converter={StaticResource MoreThanZeroToVisibilityConverter}, Mode=OneWay}"
                                         Margin="16"/>
                        </Grid>
                        <Grid Opacity="{TemplateBinding PreviousButtonOpacity}"
                              HorizontalAlignment="{TemplateBinding PreviousButtonHorizontalAlignment}"
                              VerticalAlignment="{TemplateBinding PreviousButtonVerticalAlignment}"
                              CornerRadius="{TemplateBinding PreviousButtonCornerRadius}"
                              Margin="{TemplateBinding PreviousButtonMargin}"
                              Padding="24"
                              RenderTransformOrigin=".5, .5">
                            <Grid.RenderTransform>
                                <ScaleTransform x:Name="PreviousButtonScaleTransform" ScaleX="{StaticResource SlideshowButtonScale}" ScaleY="{StaticResource SlideshowButtonScale}"/>
                            </Grid.RenderTransform>
                            <Grid x:Name="PreviousButtonShadowCaster" Margin="-24"/>
                            <Button x:Name="PreviousButton"
                                    customControls:Extensions.CursorType="Hand"
                                    Opacity="{StaticResource SlideshowButtonOpacity}"
                                    Style="{TemplateBinding PreviousButtonStyle}"
                                    Background="{TemplateBinding PreviousButtonBackgroundBrush}"
                                    Foreground="{TemplateBinding PreviousButtonForegroundBrush}"
                                    CornerRadius="{TemplateBinding PreviousButtonCornerRadius}"
                                    Padding="{TemplateBinding PreviousButtonPadding}"
                                    Width="{TemplateBinding PreviousButtonWidth}"
                                    MaxWidth="{TemplateBinding PreviousButtonMaxWidth}"
                                    MinWidth="{TemplateBinding PreviousButtonMinWidth}"
                                    Height="{TemplateBinding PreviousButtonHeight}"
                                    MaxHeight="{TemplateBinding PreviousButtonMaxHeight}"
                                    MinHeight="{TemplateBinding PreviousButtonMinHeight}">
                                <s:Effects.Shadow>
                                    <s:AttachedDropShadow x:Name="PreviousButtonShadow"
                                                          BlurRadius="8"
                                                          CastTo="{Binding ElementName=PreviousButtonShadowCaster}"
                                                          CornerRadius="{Binding ElementName=PreviousButton, Path=CornerRadius, Mode=OneWay}"
                                                          Opacity="0"
                                                          Offset="0, 0, 0" />
                                </s:Effects.Shadow>
                            </Button>
                        </Grid>
                        <Grid Opacity="{TemplateBinding NextButtonOpacity}"
                              HorizontalAlignment="{TemplateBinding NextButtonHorizontalAlignment}"
                              VerticalAlignment="{TemplateBinding NextButtonVerticalAlignment}"
                              CornerRadius="{TemplateBinding NextButtonCornerRadius}"
                              Margin="{TemplateBinding NextButtonMargin}"
                              Padding="24"
                              RenderTransformOrigin=".5, .5">
                            <Grid.RenderTransform>
                                <ScaleTransform x:Name="NextButtonScaleTransform" ScaleX="{StaticResource SlideshowButtonScale}" ScaleY="{StaticResource SlideshowButtonScale}"/>
                            </Grid.RenderTransform>
                            <Grid x:Name="NextButtonShadowCaster" Margin="-24"/>
                            <Button x:Name="NextButton"
                                    customControls:Extensions.CursorType="Hand"
                                    Opacity="{StaticResource SlideshowButtonOpacity}"
                                    Style="{TemplateBinding NextButtonStyle}"
                                    Background="{TemplateBinding NextButtonBackgroundBrush}"
                                    Foreground="{TemplateBinding NextButtonForegroundBrush}"
                                    CornerRadius="{TemplateBinding NextButtonCornerRadius}"
                                    Padding="{TemplateBinding NextButtonPadding}"
                                    Width="{TemplateBinding NextButtonWidth}"
                                    MaxWidth="{TemplateBinding NextButtonMaxWidth}"
                                    MinWidth="{TemplateBinding NextButtonMinWidth}"
                                    Height="{TemplateBinding NextButtonHeight}"
                                    MaxHeight="{TemplateBinding NextButtonMaxHeight}"
                                    MinHeight="{TemplateBinding NextButtonMinHeight}">
                                <s:Effects.Shadow>
                                    <s:AttachedDropShadow x:Name="NextButtonShadow"
                                                          BlurRadius="8"
                                                          CastTo="{Binding ElementName=NextButtonShadowCaster}"
                                                          CornerRadius="{Binding ElementName=NextButton, Path=CornerRadius, Mode=OneWay}"
                                                          Opacity="0"
                                                          Offset="0, 0, 0" />
                                </s:Effects.Shadow>
                            </Button>
                        </Grid>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>